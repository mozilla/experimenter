from django.urls import re_path
from django.views.generic import RedirectView

from experimenter.nimbus_ui.views import (
    ApproveEndEnrollmentView,
    ApproveEndExperimentView,
    ApproveEndRolloutView,
    ApproveUpdateRolloutView,
    AudienceUpdateView,
    BranchCreateView,
    BranchDeleteView,
    BranchesPartialUpdateView,
    BranchesUpdateView,
    BranchScreenshotCreateView,
    BranchScreenshotDeleteView,
    CancelEndEnrollmentView,
    CancelEndExperimentView,
    CancelEndRolloutView,
    CancelUpdateRolloutView,
    DocumentationLinkCreateView,
    DocumentationLinkDeleteView,
    DraftToPreviewView,
    DraftToReviewView,
    LiveToCompleteRolloutView,
    LiveToCompleteView,
    LiveToEndEnrollmentView,
    LiveToUpdateRolloutView,
    MetricsUpdateView,
    NimbusChangeLogsView,
    NimbusExperimentDetailView,
    NimbusExperimentsCreateView,
    NimbusExperimentsHomeView,
    NimbusExperimentsListTableView,
    NimbusExperimentsPromoteToRolloutView,
    NimbusExperimentsSidebarCloneView,
    OverviewUpdateView,
    PreviewToDraftView,
    PreviewToReviewView,
    QAStatusUpdateView,
    ResultsView,
    ReviewToApproveView,
    ReviewToDraftView,
    SignoffUpdateView,
    SubscribeView,
    TakeawaysUpdateView,
    ToggleArchiveView,
    UnsubscribeView,
)

urlpatterns = [
    re_path(
        r"^home/",
        NimbusExperimentsHomeView.as_view(),
        name="nimbus-ui-home",
    ),
    re_path(
        r"^table/",
        NimbusExperimentsListTableView.as_view(),
        name="nimbus-ui-table",
    ),
    re_path(
        r"^create/",
        NimbusExperimentsCreateView.as_view(),
        name="nimbus-ui-create",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)[/]?$",
        RedirectView.as_view(pattern_name="nimbus-ui-detail", permanent=False),
        name="nimbus-ui-redirect-to-summary",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/history/$",
        NimbusChangeLogsView.as_view(),
        name="nimbus-ui-history",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/summary/$",
        NimbusExperimentDetailView.as_view(),
        name="nimbus-ui-detail",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/update_qa_status/$",
        QAStatusUpdateView.as_view(),
        name="nimbus-ui-update-qa-status",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/update_takeaways/$",
        TakeawaysUpdateView.as_view(),
        name="nimbus-ui-update-takeaways",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/update_signoff/$",
        SignoffUpdateView.as_view(),
        name="nimbus-ui-update-signoff",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/update_overview/$",
        OverviewUpdateView.as_view(),
        name="nimbus-ui-update-overview",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/create_documentation_link/$",
        DocumentationLinkCreateView.as_view(),
        name="nimbus-ui-create-documentation-link",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/delete_documentation_link/$",
        DocumentationLinkDeleteView.as_view(),
        name="nimbus-ui-delete-documentation-link",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/save_branches/$",
        BranchesPartialUpdateView.as_view(),
        name="nimbus-ui-partial-update-branches",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/update_branches/$",
        BranchesUpdateView.as_view(),
        name="nimbus-ui-update-branches",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/create_branch/$",
        BranchCreateView.as_view(),
        name="nimbus-ui-create-branch",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/delete_branch/$",
        BranchDeleteView.as_view(),
        name="nimbus-ui-delete-branch",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/update_metrics/$",
        MetricsUpdateView.as_view(),
        name="nimbus-ui-update-metrics",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/update_audience/$",
        AudienceUpdateView.as_view(),
        name="nimbus-ui-update-audience",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/clone/$",
        NimbusExperimentsSidebarCloneView.as_view(),
        name="nimbus-ui-clone",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/promote_to_rollout/(?:(?P<branch>[\w-]+)/)?$",
        NimbusExperimentsPromoteToRolloutView.as_view(),
        name="nimbus-ui-promote-to-rollout",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/toggle-archive/$",
        ToggleArchiveView.as_view(),
        name="nimbus-ui-toggle-archive",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/subscribe/",
        SubscribeView.as_view(),
        name="nimbus-ui-subscribe",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/unsubscribe/",
        UnsubscribeView.as_view(),
        name="nimbus-ui-unsubscribe",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/draft-to-preview/$",
        DraftToPreviewView.as_view(),
        name="nimbus-ui-draft-to-preview",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/draft-to-review/$",
        DraftToReviewView.as_view(),
        name="nimbus-ui-draft-to-review",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/preview-to-review/$",
        PreviewToReviewView.as_view(),
        name="nimbus-ui-preview-to-review",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/preview-to-draft/$",
        PreviewToDraftView.as_view(),
        name="nimbus-ui-preview-to-draft",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/review-to-draft/$",
        ReviewToDraftView.as_view(),
        name="nimbus-ui-review-to-draft",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/review-to-approve/$",
        ReviewToApproveView.as_view(),
        name="nimbus-ui-review-to-approve",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/live-to-end-enrollment/$",
        LiveToEndEnrollmentView.as_view(),
        name="nimbus-ui-live-to-end-enrollment",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/live-to-complete/$",
        LiveToCompleteView.as_view(),
        name="nimbus-ui-live-to-complete",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/approve-end-enrollment/$",
        ApproveEndEnrollmentView.as_view(),
        name="nimbus-ui-approve-end-enrollment",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/approve-end-experiment/$",
        ApproveEndExperimentView.as_view(),
        name="nimbus-ui-approve-end-experiment",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/reject-end-enrollment/$",
        CancelEndEnrollmentView.as_view(),
        name="nimbus-ui-cancel-end-enrollment",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/reject-end-experiment/$",
        CancelEndExperimentView.as_view(),
        name="nimbus-ui-cancel-end-experiment",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/live-to-complete-rollout/$",
        LiveToCompleteRolloutView.as_view(),
        name="nimbus-ui-live-to-complete-rollout",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/reject-end-rollout/$",
        CancelEndRolloutView.as_view(),
        name="nimbus-ui-cancel-end-rollout",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/approve-end-rollout/$",
        ApproveEndRolloutView.as_view(),
        name="nimbus-ui-approve-end-rollout",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/live-to-update-rollout/$",
        LiveToUpdateRolloutView.as_view(),
        name="nimbus-ui-live-to-update-rollout",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/reject-update-rollout/$",
        CancelUpdateRolloutView.as_view(),
        name="nimbus-ui-cancel-update-rollout",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/approve-update-rollout/$",
        ApproveUpdateRolloutView.as_view(),
        name="nimbus-ui-approve-update-rollout",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/results/.*",
        ResultsView.as_view(),
        name="nimbus-ui-results",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/create_branch_screenshot/$",
        BranchScreenshotCreateView.as_view(),
        name="nimbus-ui-create-branch-screenshot",
    ),
    re_path(
        r"^(?P<slug>[\w-]+)/delete_branch_screenshot/$",
        BranchScreenshotDeleteView.as_view(),
        name="nimbus-ui-delete-branch-screenshot",
    ),
]
