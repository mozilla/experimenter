<div class="alert alert-warning">

            <form method="post"
              action="{% url 'launch-to-preview' slug=experiment.slug %}"
              hx-post="{% url 'launch-to-preview' slug=experiment.slug %}"
              hx-target="#experiment-container"
              hx-swap="innerHTML">
            {% csrf_token %}
            <span class="text-danger">We recommend previewing before launch</span>
            <button type="submit" class="btn btn-primary" {% if is_loading %}disabled{% endif %}>Preview for Testing</button>
        </form>
</div>

<form
    method="post"
    action="{% url 'launch-preview-to-review' slug=experiment.slug %}"
    hx-post="{% url 'launch-preview-to-review' slug=experiment.slug %}"
    hx-target="#experiment-container"
    hx-swap="innerHTML">
    {% csrf_token %}
    <div class="form-check">
        <input type="checkbox" class="form-check-input" id="checkbox-1" onchange="toggleSubmitButton()">
        <label class="form-check-label" for="checkbox-1">I understand the risks associated with launching an experiment</label>
    </div>
    <div class="form-check">
        <input type="checkbox" class="form-check-input" id="checkbox-2" onchange="toggleSubmitButton()">
        <label class="form-check-label" for="checkbox-2">
            I have gone through the <a href="{{ EXTERNAL_URLS.TRAINING_AND_PLANNING_DOC }}" target="_blank">experiment onboarding program</a>
        </label>
    </div>
    <button type="submit" class="btn btn-primary my-2" id="request-launch-button" disabled>Request Launch</button>
               <button
                type="button"
                class="btn btn-secondary"
                hx-post="{% url 'launch-preview-to-draft' slug=experiment.slug %}"
                hx-target="#experiment-container"
                hx-swap="innerHTML">
                Cancel
            </button>
</form>

<script>
    function toggleSubmitButton() {
        const checkboxes = document.querySelectorAll(".form-check-input");
        const submitButton = document.getElementById("request-launch-button");
        const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
        submitButton.disabled = !allChecked;
    }
</script>
