<tr class="subscribers-section">
  <th>Subscribers</th>
  <td id="subscribers-list" colspan="2">
    {% for subscriber in experiment.subscribers.all %}
      <p>{{ subscriber.email }}</p>
    {% empty %}
      <span class="text-danger">Not set</span>
    {% endfor %}
  </td>
  <td style="text-align: right;">
    <form method="POST"
          hx-post="{% url 'toggle-subscription' slug=experiment.slug %}"
          hx-trigger="submit"
          hx-target=".subscribers-section"
          hx-swap="outerHTML">
      <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
      <button type="submit"
              class="btn {% if request.user in experiment.subscribers.all %}btn-danger{% else %}btn-success{% endif %}">
        {% if request.user in experiment.subscribers.all %}
          Unsubscribe
        {% else %}
          Subscribe
        {% endif %}
      </button>
    </form>
  </td>
</tr>
