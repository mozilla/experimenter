# Generated by Django 5.2.9 on 2026-01-13 17:58

from django.db import migrations


def delete_focus_klar_features(apps, schema_editor):
    NimbusFeatureConfig = apps.get_model("experiments", "NimbusFeatureConfig")
    NimbusExperiment = apps.get_model("experiments", "NimbusExperiment")
    NimbusIsolationGroup = apps.get_model("experiments", "NimbusIsolationGroup")

    applications = ["focus-android", "focus-ios", "klar-android", "klar-ios"]

    NimbusFeatureConfig.objects.filter(application__in=applications).delete()
    NimbusExperiment.objects.filter(application__in=applications).delete()
    NimbusIsolationGroup.objects.filter(application__in=applications).delete()


class Migration(migrations.Migration):

    dependencies = [
        ('experiments', '0311_alter_nimbusexperiment_application_and_more'),
    ]

    operations = [
        migrations.RunPython(delete_focus_klar_features, migrations.RunPython.noop),
    ]
